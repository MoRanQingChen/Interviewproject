# 1.0 浏览器运行原理

目前使用的主流浏览器有五个：`Internet Explorer`、 `Firefox`、 `Safari`、 `Chrome` 和 `Opera`。

- 1. 浏览器按照引擎分类
  - Trident引擎：Internet Explorer
  - Webkit引擎：Chrome（28版本后基于blink，blink是webkit的一个分支）和Safari
  - Gecko引擎：Firefox
  - Presto引擎：早期Opera采用，后用webkit引擎

## （二）浏览器的主要组件

- （1）用户界面 - 包括地址栏、 前进/后退按钮、 书签菜单等。 除了浏览器主窗口显示的请求的页面外，其他显示的各个部分都属于用户界面。其他显示的各个部分都属于用户界面。

- （2）浏览器引擎 - 在用户界面和呈现引擎之间传送指令。

- （3）渲染引擎 - 负责显示请求的内容。 如果请求的内容是 HTML，它就负责解析 HTML 和 CSS 内容，并将解析后的内容显示在屏幕上。

- （4）网络 - 用于网络调用，如 HTTP 请求。 其接口与平台无关，为所有平台提供底层实现。

- （5）用户界面后端 - 用于绘制基本的窗口小部件，比如组合框和窗口。 其公开了与平台无关的通用接口，而在底层使用操作系统的用户界面方法。

- （6） JavaScript 解释器 - 用于解析和执行 JavaScript 代码。

- （7）数据存储 - 这是持久层。 浏览器需要在硬盘上保存各种数据，例如 Cookie。 新的 HTML 规范(HTML5) 定义了“网络数据库” ，这是一个完整的浏览器内数据库。

浏览器组成部分如图所示:
![](https://pic002.cnblogs.com/images/2011/265173/2011110316262567.png)

## 网页的生成过程，大致可以分成五步。

- HTML代码转化成DOM
- CSS代码转化成CSSOM（CSS Object Model）
- 结合DOM和CSSOM，生成一棵渲染树（包含每个节点的视觉信息）
- 生成布局（layout），即将所有渲染树的所有节点进行平面合成
- 将布局绘制（paint）在屏幕上

这五步里面，第一步到第三步都非常快，耗时的是第四步和第五步。

**"生成布局"（flow）和"绘制"（paint）这两步，合称为"渲染"（render）。**
![](http://www.ruanyifeng.com/blogimg/asset/2015/bg2015091502.png)


## 参考
- []()
- [网页性能管理详解](http://www.ruanyifeng.com/blog/2015/09/web-page-performance-in-depth.html)
- [前端进阶（一）浏览器运行原理](https://blog.csdn.net/u014744118/article/details/80698602 )
- [浏览器渲染原理及解剖浏览器内部工作原理](https://www.cnblogs.com/yanglang/p/7090120.html)
